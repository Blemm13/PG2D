<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="800" height="600" style="border:1px solid #c3c3c3;">
</canvas>

<script>

var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.fillStyle = "#FF0000";
i = 350;
j = 0;

setInterval(function() {moveRight()}, 10);

function update() {

}

function moveRight() {
     ctx.clearRect(0, 0, myCanvas.width, myCanvas.height)
     drawRect(i, j);
     ++i;
     i %= myCanvas.width;
}

function moveLeft() {
     ctx.clearRect(0, 0, myCanvas.width, myCanvas.height)
     drawRect(i, j);
     --i;
     i %= myCanvas.width;
}

function drawRect(x, y){ctx.fillRect(x, y,100,10)};

window.addEventListener('keyup',this.move,false);
window.addEventListener('keyleft',this.move,false);

function move(e) {
    switch (code) {
        case 37: this.moveLeft; break;
        case 39: this.moveRight; break;
    }
}

</script>

</body>
</html>