<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="800" height="600" style="border:1px solid #c3c3c3;">
</canvas>

<script>

var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
var keyState = {};

ctx.fillStyle = "#FF0000";
i = 350;
j = 0;

// setInterval(function() {update()}, 10);

document.onkeydown = checkKey;

function checkKey(e) {

    e = e || window.event;

    if (e.keyCode == '38') {
        // up arrow
    }
    else if (e.keyCode == '40') {
        // down arrow
    }
    else if (e.keyCode == '37') {
       moveLeft()
    }
    else if (e.keyCode == '39') {
       moveRight()
    }

}

function moveRight() {
     ctx.clearRect(0, 0, myCanvas.width, myCanvas.height)
     drawRect(i, j);
     i+=3;
     i %= myCanvas.width;
}

function moveLeft() {
     ctx.clearRect(0, 0, myCanvas.width, myCanvas.height)
     drawRect(i, j);
     i-=3;
     i %= myCanvas.width;
}

function drawRect(x, y){ctx.fillRect(x, y,100,10)};



</script>
</head>
</script>

</body>
</html>